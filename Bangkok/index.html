<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’å‹•å¼æ›¼è°·è¡Œç¨‹è¦åŠƒå·¥å…· (å„€è¡¨æ¿ç‰ˆ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Earthen Kinmen (Applied to Bangkok Content) -->
    <!-- Application Structure Plan: The application uses a single-page, tab-based interactive dashboard structure. This includes: 1) A sticky top navigation bar for switching between 'è¡Œç¨‹ç¸½è¦½', 'è©³ç´°è¡Œç¨‹', 'è¡Œå‰æº–å‚™', 'ç¾é£Ÿåœ°åœ–', and 'é ç®—è¦åŠƒ'. 2) The 'è¡Œç¨‹ç¸½è¦½' view uses interactive day-selector buttons for a quick daily overview. 3) The 'è©³ç´°è¡Œç¨‹' section provides a comprehensive, scrollable list of all activities with details. 4) The 'é ç®—è¦åŠƒ' section features a dynamic Chart.js chart that updates based on user selections. This structure is ideal for trip planning, allowing both high-level exploration and deep dives into logistical details. -->
    <!-- Visualization & Content Choices: 1. Itinerary Overview: Report Info (Schedule) -> Goal (Organize) -> Viz (Interactive cards) -> Interaction (Click buttons for daily view) -> Justification (Quick, digestible daily summary) -> Library (HTML/CSS/JS). 2. Detailed Itinerary: Report Info (Schedule, transport, costs) -> Goal (Inform/Organize) -> Viz (Structured list with icons & tags) -> Interaction (Scroll) -> Justification (Provides a complete, actionable master document for the trip) -> Library (HTML/CSS/JS). 3. Budget Planner: Report Info (Prices) -> Goal (Analyze) -> Viz (Checklist + dynamic bar chart) -> Interaction (Check items to update chart) -> Justification (Transforms static numbers into a personalized planning tool) -> Library (Chart.js/Canvas). -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #FDFBF5; -webkit-tap-highlight-color: transparent; }
        .tab-active { background-color: #A0522D; color: #FFFFFF; }
        .tab-inactive { background-color: #EFEBE5; color: #A0522D; }
        .day-btn-active { background-color: #8B4513; color: #FFFFFF; transform: scale(1.05); }
        .day-btn-inactive { background-color: #D2B48C; color: #6B4226; }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .section-fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin-left: auto; margin-right: auto; height: 350px; max-height: 45vh; }
        @media (min-width: 768px) { .chart-container { height: 400px; max-height: none; } }
    </style>
</head>
<body class="text-gray-800">

    <div id="app" class="container mx-auto p-4 sm:p-6 max-w-7xl">

        <header class="text-center mb-6 md:mb-8">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-[#8B4513]">æ›¼è°·åˆæ¢ãƒ»å…­æ—¥æ·±åº¦è‡ªç”±è¡Œ</h1>
            <p class="text-base md:text-lg text-gray-600 mt-2">æ‚¨çš„äº’å‹•å¼è¡Œç¨‹è¦åŠƒå„€è¡¨æ¿</p>
        </header>

        <nav id="main-nav" class="sticky top-0 z-10 bg-[#FDFBF5] py-3 mb-6 md:mb-8 shadow-md rounded-lg">
            <div class="flex flex-wrap justify-center gap-2 md:gap-3">
                <button data-tab="itinerary" class="nav-tab tab-active px-3 py-2 rounded-lg font-semibold transition-colors duration-300 text-xs sm:text-sm">ğŸ“… è¡Œç¨‹ç¸½è¦½</button>
                <button data-tab="detailed" class="nav-tab tab-inactive px-3 py-2 rounded-lg font-semibold transition-colors duration-300 text-xs sm:text-sm">ğŸ“œ è©³ç´°è¡Œç¨‹</button>
                <button data-tab="prep" class="nav-tab tab-inactive px-3 py-2 rounded-lg font-semibold transition-colors duration-300 text-xs sm:text-sm">ğŸ“‹ è¡Œå‰æº–å‚™</button>
                <button data-tab="food" class="nav-tab tab-inactive px-3 py-2 rounded-lg font-semibold transition-colors duration-300 text-xs sm:text-sm">ğŸœ ç¾é£Ÿåœ°åœ–</button>
                <button data-tab="budget" class="nav-tab tab-inactive px-3 py-2 rounded-lg font-semibold transition-colors duration-300 text-xs sm:text-sm">ğŸ’° é ç®—è¦åŠƒ</button>
            </div>
        </nav>

        <main>
            <!-- Itinerary Section -->
            <section id="itinerary-section" class="tab-content">
                <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold text-[#8B4513] mb-4">è¡Œç¨‹ç¸½è¦½</h2>
                    <p class="text-gray-600 mb-6 text-sm md:text-base">æ­¡è¿ä¾†åˆ°æ‚¨çš„æ›¼è°·è¡Œç¨‹æ ¸å¿ƒã€‚é»æ“Šä¸‹æ–¹çš„æ—¥æœŸæŒ‰éˆ•ï¼Œå³å¯æ¢ç´¢æ¯æ—¥çš„è©³ç´°è¦åŠƒã€‚å¦‚éœ€å®Œæ•´äº¤é€šèˆ‡è²»ç”¨ç´°ç¯€ï¼Œè«‹åˆ‡æ›è‡³ã€Œè©³ç´°è¡Œç¨‹ã€åˆ†é ã€‚</p>
                    <div id="day-selector" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 md:gap-4 mb-6"></div>
                    <div id="itinerary-details" class="section-fade-in"></div>
                </div>
            </section>

            <!-- Detailed Itinerary Section -->
            <section id="detailed-section" class="tab-content hidden">
                <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold text-[#8B4513] mb-4">è©³ç´°è¡Œç¨‹ç¸½è¦½</h2>
                    <p class="text-gray-600 mb-6 text-sm md:text-base">æ­¤è™•ç‚ºæ‚¨æä¾›æœ€å®Œæ•´çš„è¡Œç¨‹è¦åŠƒï¼ŒåŒ…å«æ¯ä¸€ç«™çš„å»ºè­°æ™‚é–“ã€äº¤é€šæ–¹å¼ã€é–€ç¥¨è²»ç”¨åŠé è¨ˆåœç•™æ™‚é–“ã€‚æ‚¨å¯ä»¥å°‡æ­¤ä½œç‚ºæ—…é€”ä¸­çš„ä¸»è¦è¡Œå‹•æŒ‡å—ã€‚</p>
                    <div id="detailed-itinerary-content" class="space-y-8"></div>
                </div>
            </section>

            <!-- Prep Section -->
            <section id="prep-section" class="tab-content hidden">
                 <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold text-[#8B4513] mb-4">è¡Œå‰æº–å‚™</h2>
                    <p class="text-gray-600 mb-6 text-sm md:text-base">æˆåŠŸçš„æ—…ç¨‹å§‹äºå……åˆ†çš„æº–å‚™ã€‚é»æ“Šå„å€‹é …ç›®ä»¥å±•é–‹è©³ç´°å…§å®¹ï¼Œè®“æ‚¨åœ¨å‡ºç™¼å‰å°±æˆç‚ºä¸€ä½æ›¼è°·é”äººã€‚</p>
                    <div id="prep-accordion" class="space-y-4"></div>
                </div>
            </section>

            <!-- Food Section -->
            <section id="food-section" class="tab-content hidden">
                <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold text-[#8B4513] mb-4">ç¾é£Ÿåœ°åœ–</h2>
                    <p class="text-gray-600 mb-6 text-sm md:text-base">æ›¼è°·æ˜¯ç¾é£Ÿçš„å¤©å ‚ã€‚é€™è£¡æˆ‘å€‘ç‚ºæ‚¨æ•´ç†äº†è¡Œç¨‹å ±å‘Šä¸­æåŠçš„æ‰€æœ‰æ¨è–¦é¤å»³èˆ‡ç¾é£Ÿï¼Œæ‚¨å¯ä»¥ä¾æ“šæ­¤æ¸…å–®ï¼Œè¦åŠƒæ‚¨çš„ç¾é£Ÿæ¢ç´¢ä¹‹æ—…ã€‚</p>
                    <div id="food-table" class="overflow-x-auto"></div>
                </div>
            </section>

            <!-- Budget Section -->
            <section id="budget-section" class="tab-content hidden">
                <div class="bg-white p-4 md:p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl md:text-3xl font-bold text-[#8B4513] mb-4">é ç®—è¦åŠƒå·¥å…·</h2>
                    <p class="text-gray-600 mb-6 text-sm md:text-base">é€™å€‹äº’å‹•å·¥å…·èƒ½å°‡æ‚¨çš„æ—…è¡Œè¨ˆç•«è½‰åŒ–ç‚ºæ¸…æ™°çš„é ç®—ã€‚è«‹åœ¨ä¸‹æ–¹å‹¾é¸æ‚¨è¨ˆç•«åƒèˆ‡çš„æ´»å‹•èˆ‡æƒ³å“åšçš„ç¾é£Ÿã€‚ç³»çµ±å°‡å³æ™‚ç‚ºæ‚¨è¨ˆç®—ç¸½èŠ±è²»ã€‚(è²»ç”¨ä»¥æ³°éŠ–THBè¨ˆ)</p>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div id="budget-items" class="max-h-[50vh] lg:max-h-[500px] overflow-y-auto pr-4"></div>
                        <div class="flex flex-col items-center">
                            <div class="text-center mb-4">
                                <h3 class="text-xl font-semibold">é ä¼°ç¸½èŠ±è²»</h3>
                                <p class="text-4xl font-bold text-green-600">THB <span id="total-budget">0</span></p>
                            </div>
                            <div class="chart-container">
                                <canvas id="budgetChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

    </div>

    <script>
    const AppData = {
        itinerary: [
            { day: 1, theme: "çš‡å®¤è¼ç…Œèˆ‡æ²³å²¸å¥‡è§€", schedule: [
                { time: "09:00 - 12:00", icon: "ğŸ›ï¸", title: "å¤§çš‡å®® & ç‰ä½›å¯º", details: "åƒè§€æ³°åœ‹æœ€ç¥è–çš„å¯ºå»Ÿèˆ‡æ˜”æ—¥çš‡å®®ï¼Œæ„Ÿå—æ¥µè‡´çš„å»ºç¯‰è—è¡“ã€‚", transport: "BTSè½‰äº¤é€šèˆ¹", cost: 500, duration: "3å°æ™‚" },
                { time: "12:30 - 14:00", icon: "ğŸš", title: "åˆé¤ï¼šæ²³å²¸æ™¯è§€é¤å»³", details: "æ¨è–¦ï¼šThe Deck (æœ€ä½³æ™¯è§€) æˆ– Supanniga Eating Room (ç±³å…¶æ—æ¨è–¦)ã€‚", transport: "æ­¥è¡Œ", cost: 800, duration: "1.5å°æ™‚" },
                { time: "14:00 - 16:00", icon: "ğŸ’†", title: "è‡¥ä½›å¯º & å‚³çµ±æ³°å¼æŒ‰æ‘©", details: "åƒè§€å®å‰è‡¥ä½›ï¼Œä¸¦åœ¨æ³°å¼æŒ‰æ‘©ç™¼æºåœ°é«”é©—æ­£å®—æ‰‹æ³•ã€‚", transport: "æ­¥è¡Œ", cost: 720, duration: "2å°æ™‚" },
                { time: "16:30 - 18:00", icon: "ğŸŒ‡", title: "é„­ç‹å»Ÿ (é»æ˜å¯º)", details: "æ¬£è³å¤•é™½é¤˜æš‰ä¸‹çš„æ³°åœ‹æœ€ç¾ä½›å¡”ã€‚", transport: "æ¸¡è¼ª", cost: 200, duration: "1.5å°æ™‚" },
                { time: "18:30 - 20:00", icon: "ğŸ³", title: "æ™šé¤ï¼šèˆŠåŸå€å‚³å¥‡", details: "æ¨è–¦ï¼šRaan Jay Fai (ç—£å§ç†±ç‚’) æˆ– Thipsamai (é¬¼é–€ç‚’æ²³ç²‰)ã€‚", transport: "Tuk-Tuk/Grab", cost: 1000, duration: "1.5å°æ™‚" }
            ]},
            { day: 2, theme: "å‰µæ„é£›åœ°èˆ‡ç¾ä»£å·”å³°", schedule: [
                { time: "10:00 - 11:30", icon: "çµ²", title: "é‡‘æ¹¯æ™®æ£®åšç‰©é¤¨", details: "åœ¨å¸‚ä¸­å¿ƒçš„ç¶ æ´²ä¸­ï¼Œæ¢ç´¢æ³°çµ²å¤§ç‹çš„å‚³å¥‡æŸšæœ¨å®…é‚¸ã€‚", transport: "BTS", cost: 200, duration: "1.5å°æ™‚" },
                { time: "12:00 - 13:30", icon: "ğŸœ", title: "åˆé¤ï¼šSiamå•†åœˆåœ°é“é¢¨å‘³", details: "æ¨è–¦ï¼šInter Restaurant (å¹³åƒ¹è€åº—) æˆ– Phed Phed Bistro (ç¶²ç´…é’æœ¨ç“œæ²™æ‹‰)ã€‚", transport: "æ­¥è¡Œ", cost: 400, duration: "1.5å°æ™‚" },
                { time: "13:30 - 16:00", icon: "ğŸ¨", title: "è—è¡“æˆ–è³¼ç‰©", details: "é¸æ“‡åƒè§€æ›¼è°·è—è¡“æ–‡åŒ–ä¸­å¿ƒ(BACC)ï¼Œæˆ–åœ¨Siam Paragonç­‰å•†å ´è³¼ç‰©ã€‚", transport: "æ­¥è¡Œ", cost: 0, duration: "2.5å°æ™‚" },
                { time: "16:30 - 18:30", icon: "ğŸ™ï¸", title: "Mahanakhon Skywalk", details: "ç™»ä¸Šæ³°åœ‹æœ€é«˜è§€æ™¯å°ï¼ŒæŒ‘æˆ°æ‡¸ç©ºç»ç’ƒæ£§é“ï¼Œæ¬£è³360åº¦å…¨æ™¯ã€‚", transport: "BTS", cost: 880, duration: "2å°æ™‚" },
                { time: "19:30 - 21:00", icon: "ğŸ¦€", title: "æ™šé¤ï¼šé«˜ç©ºæˆ–ç¶“å…¸", details: "æ¨è–¦ï¼šSky Bar (ã€Šé†‰å¾Œå¤§ä¸ˆå¤«2ã€‹å ´æ™¯) æˆ– Somboon Seafood (å’–å“©ç‚’èŸ¹å‰µå§‹åº—)ã€‚", transport: "BTS/Grab", cost: 1200, duration: "1.5å°æ™‚" }
            ]},
            { day: 3, theme: "å¤§åŸåºœï¼šé€å»çš„ç‹æœ", schedule: [
                { time: "09:00 - 17:00", icon: "ğŸš—", title: "å¤§åŸåºœ (Ayutthaya) ä¸€æ—¥éŠ", details: "åŒ…è»Šå‰å¾€ä¸–ç•Œéºç”¢ï¼Œæ¢ç´¢ç‘ªå“ˆæ³°å¯º(æ¨¹ä¸­ä½›é ­)ã€å¸•å¸­æ¡‘ç¢§å¯ºã€æŸ´ç“¦å¡”é‚£è˜­å¯ºã€‚", transport: "åŒ…è»Š (æ¨è–¦)", cost: 1800, duration: "8å°æ™‚" },
                { time: "12:00 - 13:00", icon: "ğŸ¦", title: "åˆé¤ï¼šå¤§åŸåœ¨åœ°ç¾é£Ÿ", details: "å“åšé“åœ°çš„èˆ¹éºµæˆ–å¤§é ­è¦ã€‚", transport: "åŒ…è»Šå¸æ©Ÿå¸¶é ˜", cost: 400, duration: "1å°æ™‚" },
                { time: "18:30 - 20:00", icon: "ğŸ ", title: "æ™šé¤ï¼šé£¯åº—å‘¨é‚Š", details: "èˆŸè»Šå‹é “å¾Œï¼Œåœ¨é£¯åº—é™„è¿‘ç°¡å–®ç”¨é¤æˆ–ä½¿ç”¨GrabFoodå¤–é€ã€‚", transport: "æ­¥è¡Œ/å¤–é€", cost: 400, duration: "1.5å°æ™‚" }
            ]},
            { day: 4, theme: "ç§˜å¢ƒæ¢ç´¢èˆ‡å¸‚é›†å·¡ç¦®", schedule: [
                { time: "10:00 - 13:00", icon: "ğŸš²", title: "é‚¦å–€é€  (Bang Krachao) å–®è»ŠéŠ", details: "åœ¨ã€Œæ›¼è°·ç¶ è‚ºã€çš„åŸå¸‚ç¶ æ´²ä¸­ï¼Œé«”é©—èˆ‡å¸‚ä¸­å¿ƒæˆªç„¶ä¸åŒçš„æ…¢ç”Ÿæ´»ã€‚", transport: "MRTè½‰è¨ˆç¨‹è»Šå†è½‰æ¸¡è¼ª", cost: 120, duration: "3å°æ™‚" },
                { time: "13:00 - 14:00", icon: "ğŸ²", title: "åˆé¤ï¼šç¶ è‚ºä¸­çš„åœ¨åœ°é¤é¤¨", details: "åœ¨æ²³é‚Šçš„å®¶åº­å¼å°é¤é¤¨å“åšé“åœ°æ³°å¼å®¶å¸¸èœã€‚", transport: "å–®è»Š", cost: 300, duration: "1å°æ™‚" },
                { time: "15:00 - 17:00", icon: "â˜•", title: "ç‰¹è‰²å’–å•¡é¤¨å·¡ç¦®", details: "æ¨è–¦ï¼šFeatherstone Cafe (å¥‡å¹»é­”æ³•é¢¨) æˆ– Floral Cafe (ç§˜å¯†èŠ±åœ’)ã€‚", transport: "Grab", cost: 250, duration: "2å°æ™‚" },
                { time: "18:00 - 20:30", icon: "ğŸŒ‹", title: "Jodd Fairs å¤œå¸‚", details: "åœ¨ç«ç´…å¤œå¸‚å“åšç«å±±æ’éª¨ã€æ°´æœè¥¿æ–½ç­‰ç¶²ç´…ç¾é£Ÿã€‚", transport: "BTS/MRT", cost: 600, duration: "2.5å°æ™‚" }
            ]},
            { day: 5, theme: "åœ¨åœ°ç”Ÿæ´»èˆ‡å¥‡è§€ä¹‹å¤œ", schedule: [
                { time: "10:00 - 12:30", icon: "ğŸ’", title: "å¸•ç©ºèŠ±å¸‚ & Talad Noi ç¤¾å€", details: "æ„Ÿå—æ›¼è°·æœ€å¤§èŠ±å¸‚çš„æ´»åŠ›ï¼Œæ¥è‘—æ¢ç´¢Talad Noiè€ç¤¾å€çš„æ–‡é’å£ç•«èˆ‡å’–å•¡é¤¨ã€‚", transport: "MRT", cost: 0, duration: "2.5å°æ™‚" },
                { time: "12:30 - 14:00", icon: "ğŸ›", title: "åˆé¤ï¼šèˆŠåŸå€æˆ–ä¸­åœ‹åŸ", details: "æ¨è–¦ï¼šHong Sieng Kong (æ²³å²¸å¾©å¤å’–å•¡é¤¨) æˆ– ä¸­åœ‹åŸè¡—é ­å°åƒã€‚", transport: "æ­¥è¡Œ", cost: 500, duration: "1.5å°æ™‚" },
                { time: "14:00 - 17:00", icon: "ğŸ›ï¸", title: "è‡ªç”±æ™‚å…‰", details: "å¯é¸æ“‡å›é£¯åº—ä¼‘æ¯ï¼Œæˆ–åˆ°å¸‚ä¸­å¿ƒCentralWorldé€²è¡Œæœ€å¾Œæ¡è³¼ã€‚", transport: "Grab/BTS", cost: 0, duration: "3å°æ™‚" },
                { time: "18:00 - 21:00", icon: "ğŸ•º", title: "Staneemeehoi ç”·æ¨¡é¤å»³", details: "åœ¨æ­¡æ¨‚æ°£æ°›ä¸­äº«å—æµ·é®®å¤§é¤èˆ‡ç”·æ¨¡å€‘çš„ç†±èˆè¡¨æ¼”ã€‚", transport: "Grab (ä¾†å›)", cost: 1500, duration: "3å°æ™‚" }
            ]},
            { day: 6, theme: "æœ€çµ‚å›å‘³èˆ‡å•Ÿç¨‹", schedule: [
                { time: "09:00 - 12:00", icon: "ğŸ›’", title: "æ´½åœ–æ´½é€±æœ«å¸‚é›†", details: "åœ¨å…¨çƒæœ€å¤§é€±æœ«å¸‚é›†é€²è¡Œæœ€å¾Œçš„è³¼ç‰©è¡åˆºã€‚(è‹¥éé€±æœ«å¯æ”¹ç‚ºTerminal 21)", transport: "BTS/MRT", cost: 0, duration: "3å°æ™‚" },
                { time: "12:00 - 13:00", icon: "ğŸ¥¥", title: "åˆé¤ï¼šå¸‚é›†å°åƒ", details: "å“åšæ¤°å­å†°æ·‡æ·‹ã€çƒ¤è‚‰ä¸²ã€æ³°å¼å¥¶èŒ¶ï¼Œç‚ºæ—…ç¨‹ç•«ä¸Šå®Œç¾å¥é»ã€‚", transport: "æ­¥è¡Œ", cost: 300, duration: "1å°æ™‚" },
                { time: "13:30", icon: "ğŸ›«", title: "æ•´ç†è¡Œå›Šï¼Œå‰å¾€æ©Ÿå ´", details: "è¿”å›é£¯åº—å–è¡Œæï¼Œæ­ä¹˜æ©Ÿå ´å¿«ç·šæˆ–Grabå‰å¾€è˜‡å‡¡ç´å¸ƒæ©Ÿå ´(BKK)ã€‚", transport: "æ©Ÿå ´å¿«ç·š/Grab", cost: 300, duration: "N/A" }
            ]}
        ],
        prep: [
            { title: "è¡£è‘—èˆ‡æ°£å€™ï¼šç†±å¸¶ç©¿æ­è¡“", content: "9æœˆæ›¼è°·ç‚ºé›¨å­£æœ«ï¼Œå¤©æ°£ç‚ç†±æ½®æ¿• (25-32Â°C)ã€‚å»ºè­°ç©¿è‘—è¼•ä¾¿ã€é€æ°£çš„è¡£ç‰©ã€‚å¿…å‚™ï¼šé«˜å“è³ªæŠ˜ç–Šå‚˜ã€é˜²æ›¬ç”¨å“ã€èˆ’é©å¥½èµ°çš„é‹ã€‚å¯ºå»Ÿåƒè§€éœ€æº–å‚™éè†é•·è¤²/è£™åŠæœ‰è¢–ä¸Šè¡£ã€‚" },
            { title: "äº¤é€šé ˆçŸ¥ï¼šç©ºéµã€åœ°éµèˆ‡Grab", content: "<b>ä¸»è¦å·¥å…·ï¼š</b>BTSç©ºéµå’ŒMRTåœ°éµæ˜¯éŠè¦½å¸‚å€æœ€æ–¹ä¾¿çš„å·¥å…·ï¼Œå»ºè­°è³¼è²·å…”å­å¡(Rabbit Card)æ–¹ä¾¿æ­ä¹˜ã€‚<br><b>å«è»ŠAppï¼š</b>Grabæ˜¯é¦–é¸ï¼Œåƒ¹æ ¼é€æ˜ï¼Œé¿å…è­°åƒ¹éº»ç…©ã€‚<br><b>æ²³é‹ï¼š</b>æ˜­æŠ«è€¶æ²³äº¤é€šèˆ¹æ˜¯æ¢ç´¢æ²³å²¸æ™¯é»æœ€æœ‰è¶£çš„æ–¹å¼ã€‚" },
            { title: "å¯ºå»Ÿç¦®å„€èˆ‡å¸¸è¦‹æ³¨æ„äº‹é …", content: "<b>æœè£ï¼š</b>é€²å…¥å¯ºå»Ÿéœ€è„«å¸½è„«é‹ï¼Œè¡£è‘—ä¸å¯æš´éœ²(éœ€é®è“‹è‚©è†€å’Œè†è“‹)ã€‚<br><b>è©é¨™ï¼š</b>è­¦æƒ•ã€Œå¤§çš‡å®®ä»Šæ—¥é—œé–‰ã€çš„é¨™å±€ï¼Œå‹¿ç†æœƒä¸»å‹•æ­è¨•çš„é™Œç”Ÿäººï¼Œä¸€åˆ‡ä»¥å®˜æ–¹å”®ç¥¨è™•è³‡è¨Šç‚ºæº–ã€‚<br><b>å°è²»ï¼š</b>æ³°åœ‹æœ‰å°è²»æ–‡åŒ–ï¼Œæ—…é¤¨åºŠé ­å°è²»ç´„20æ³°éŠ–ï¼ŒæŒ‰æ‘©å¾Œå¯çµ¦50-100æ³°éŠ–ã€‚" },
            { title: "å¯¦ç”¨å·¥å…·ï¼šç¶²è·¯èˆ‡App", content: "<b>ç¶²è·¯ï¼š</b>å»ºè­°å‡ºç™¼å‰è³¼è²·eSIMï¼Œè½åœ°å³ç”¨ï¼Œçœæ™‚æ–¹ä¾¿ã€‚æ©Ÿå ´äº¦æœ‰è²©å”®å¯¦é«”SIMå¡ã€‚<br><b>å¿…å‚™Appï¼š</b>Grab (å«è»Š/å¤–é€), Google Maps (å°èˆª), Google Translate (æºé€š)ã€‚" }
        ],
        food: [
            { name: "The Deck by Arun Residence", area: "æ²³å²¸/èˆŠåŸå€", specialty: "é„­ç‹å»Ÿå°å²¸æ™¯è§€è¥¿é¤/æ³°èœ", price: "800-1200" },
            { name: "Supanniga Eating Room", area: "æ²³å²¸/èˆŠåŸå€", specialty: "ç±³å…¶æ—æ¨è–¦ç²¾ç·»æ³°èœ", price: "800-1200" },
            { name: "Thipsamai (é¬¼é–€ç‚’æ²³ç²‰)", area: "èˆŠåŸå€", specialty: "æ›¼è°·æœ€çŸ¥åçš„æ³°å¼ç‚’æ²³ç²‰", price: "200-400" },
            { name: "Raan Jay Fai (ç—£å§ç†±ç‚’)", area: "èˆŠåŸå€", specialty: "ç±³å…¶æ—ä¸€æ˜Ÿè¡—é ­å°åƒ", price: "2000+" },
            { name: "Inter Restaurant", area: "Siam", specialty: "40å¹´å¹³åƒ¹æ³°å¼è€åº—", price: "200-350" },
            { name: "Somboon Seafood", area: "å¤šé–“åˆ†åº—", specialty: "å’–å“©ç‚’èŸ¹å‰µå§‹åº—", price: "800-1500" },
            { name: "Staneemeehoi (ç”·æ¨¡é¤å»³)", area: "Huamumå¤œå¸‚å…§", specialty: "æµ·é®®èˆ‡å¨›æ¨‚è¡¨æ¼”", price: "1000-1500" },
            { name: "Jodd Fairs (ç«å±±æ’éª¨)", area: "å¤œå¸‚", specialty: "ç¶²ç´…å¤§ä»½é‡æ’éª¨", price: "300-500" }
        ],
        budgetItems: [
            { name: "å¤§åŸåºœä¸€æ—¥åŒ…è»Š (æ¯äºº/2äººè¨ˆ)", category: "äº¤é€š", cost: 1800 },
            { name: "Mahanakhon Skywalk é–€ç¥¨", category: "æ™¯é»é–€ç¥¨", cost: 880 },
            { name: "å¤§çš‡å®® & ç‰ä½›å¯ºé–€ç¥¨", category: "æ™¯é»é–€ç¥¨", cost: 500 },
            { name: "è‡¥ä½›å¯ºé–€ç¥¨ + æŒ‰æ‘©", category: "æ™¯é»é–€ç¥¨", cost: 720 },
            { name: "Staneemeehoi ç”·æ¨¡é¤å»³ (é ä¼°)", category: "ç‰¹è‰²é«”é©—", cost: 1200 },
            { name: "Somboon Seafood å’–å“©èŸ¹ (é ä¼°)", category: "ç‰¹è‰²é«”é©—", cost: 1000 },
            { name: "æ¯æ—¥é¤é£²å°åƒé ç®—", category: "é¤é£²ç¾é£Ÿ", cost: 800 },
            { name: "æ¯æ—¥äº¤é€šé ç®— (BTS/Grab)", category: "äº¤é€š", cost: 250 }
        ]
    };

    document.addEventListener('DOMContentLoaded', () => {
        const daySelector = document.getElementById('day-selector');
        const itineraryDetails = document.getElementById('itinerary-details');
        const detailedItineraryContent = document.getElementById('detailed-itinerary-content');
        const prepAccordion = document.getElementById('prep-accordion');
        const foodTableContainer = document.getElementById('food-table');
        const budgetItemsContainer = document.getElementById('budget-items');
        const totalBudgetEl = document.getElementById('total-budget');
        const navTabs = document.querySelectorAll('.nav-tab');
        const tabContents = document.querySelectorAll('.tab-content');

        let budgetChart;
        let selectedBudgetItems = [];

        function renderDaySelector() {
            daySelector.innerHTML = AppData.itinerary.map(dayData => `
                <button data-day="${dayData.day}" class="day-btn day-btn-inactive p-3 rounded-lg font-semibold transition-all duration-200 shadow-sm hover:shadow-md text-sm">ç¬¬ ${dayData.day} å¤©</button>
            `).join('');
        }

        function renderItinerary(day) {
            const dayData = AppData.itinerary.find(d => d.day == day);
            if (!dayData) return;
            itineraryDetails.innerHTML = `
                <h3 class="text-xl font-bold text-[#A0522D] mb-4">${dayData.theme}</h3>
                <div class="space-y-4">
                    ${dayData.schedule.map(item => `
                        <div class="flex items-start space-x-4 p-4 bg-amber-50 rounded-lg border-l-4 border-[#D2B48C]">
                            <div class="text-2xl">${item.icon}</div>
                            <div>
                                <p class="font-semibold">${item.time} - ${item.title}</p>
                                <p class="text-gray-600 text-sm">${item.details}</p>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            itineraryDetails.classList.add('section-fade-in');
            setTimeout(() => itineraryDetails.classList.remove('section-fade-in'), 500);
        }

        function renderDetailedItinerary() {
            detailedItineraryContent.innerHTML = AppData.itinerary.map(dayData => `
                <div class="p-3 sm:p-4 rounded-lg border-2 border-amber-200">
                    <h3 class="text-lg sm:text-xl font-bold text-[#8B4513] border-b-2 border-amber-300 pb-2 mb-4">ç¬¬ ${dayData.day} å¤©: ${dayData.theme}</h3>
                    <div class="space-y-4">
                        ${dayData.schedule.map(item => `
                            <div class="flex flex-col md:flex-row md:items-start space-y-2 md:space-y-0 md:space-x-4 p-3 bg-gray-50 rounded-md">
                                <div class="flex-shrink-0 w-full md:w-32 text-base md:text-lg font-bold text-amber-800">${item.time}</div>
                                <div class="flex-grow">
                                    <p class="font-semibold text-base sm:text-lg">${item.icon} ${item.title}</p>
                                    <p class="text-sm text-gray-600 mt-1">${item.details}</p>
                                    <div class="flex flex-wrap gap-x-3 gap-y-2 text-xs mt-2">
                                        <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full">ğŸš— ${item.transport}</span>
                                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full">ğŸ’° è²»ç”¨: ${item.cost > 0 ? `~THB ${item.cost}` : 'å…è²»'}</span>
                                        <span class="bg-purple-100 text-purple-800 px-2 py-1 rounded-full">â³ åœç•™: ${item.duration}</span>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function renderPrep() {
            prepAccordion.innerHTML = AppData.prep.map(item => `
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                    <button class="accordion-btn w-full text-left p-4 bg-amber-50 hover:bg-amber-100 flex justify-between items-center font-semibold text-[#6B4226]">
                        <span class="text-sm sm:text-base">${item.title}</span>
                        <span class="transform transition-transform duration-300">â–¼</span>
                    </button>
                    <div class="accordion-content"><div class="p-4 bg-white text-gray-700 text-sm sm:text-base">${item.content}</div></div>
                </div>
            `).join('');
        }

        function renderFoodTable() {
            foodTableContainer.innerHTML = `
                <table class="w-full text-left border-collapse text-sm">
                    <thead><tr class="bg-[#A0522D] text-white"><th class="p-2 sm:p-3">é¤å»³</th><th class="p-2 sm:p-3">å€åŸŸ</th><th class="p-2 sm:p-3">æ‹›ç‰Œ</th><th class="p-2 sm:p-3 text-right">é ä¼°åƒ¹ä½ (THB)</th></tr></thead>
                    <tbody>${AppData.food.map((item, index) => `<tr class="border-b ${index % 2 === 0 ? 'bg-white' : 'bg-amber-50'}"><td class="p-2 sm:p-3 font-semibold">${item.name}</td><td class="p-2 sm:p-3">${item.area}</td><td class="p-2 sm:p-3">${item.specialty}</td><td class="p-2 sm:p-3 text-right">${item.price}</td></tr>`).join('')}</tbody>
                </table>`;
        }

        function renderBudgetItems() {
            budgetItemsContainer.innerHTML = AppData.budgetItems.map((item, index) => `
                <label class="flex items-center justify-between p-3 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors duration-200">
                    <div class="flex items-center"><input type="checkbox" data-index="${index}" class="budget-checkbox form-checkbox h-5 w-5 text-green-600 rounded"><span class="ml-3 text-gray-700 text-sm sm:text-base">${item.name} (${item.category})</span></div>
                    <span class="font-semibold text-green-700 text-sm sm:text-base">THB ${item.cost}</span>
                </label>`).join('');
        }

        function updateBudget() {
            selectedBudgetItems = Array.from(document.querySelectorAll('.budget-checkbox:checked')).map(cb => AppData.budgetItems[cb.dataset.index]);
            const total = selectedBudgetItems.reduce((sum, item) => sum + item.cost, 0);
            totalBudgetEl.textContent = total.toLocaleString();
            updateBudgetChart();
        }

        function createBudgetChart() {
            if (budgetChart) {
                budgetChart.destroy();
            }
            const ctx = document.getElementById('budgetChart').getContext('2d');
            budgetChart = new Chart(ctx, {
                type: 'bar', data: { labels: [], datasets: [{ label: 'èŠ±è²» (THB)', data: [], backgroundColor: ['rgba(255, 99, 132, 0.5)','rgba(54, 162, 235, 0.5)','rgba(255, 206, 86, 0.5)','rgba(75, 192, 192, 0.5)'], borderWidth: 1 }] },
                options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { display: false }, title: { display: true, text: 'é ç®—åˆ†é¡ä½”æ¯”' } }, scales: { x: { beginAtZero: true } } }
            });
        }

        function updateBudgetChart() {
            if (!budgetChart) return;
            const categoryTotals = selectedBudgetItems.reduce((acc, item) => { acc[item.category] = (acc[item.category] || 0) + item.cost; return acc; }, {});
            budgetChart.data.labels = Object.keys(categoryTotals);
            budgetChart.data.datasets[0].data = Object.values(categoryTotals);
            budgetChart.update();
        }

        daySelector.addEventListener('click', (e) => {
            if (e.target.matches('.day-btn')) {
                document.querySelectorAll('.day-btn').forEach(btn => btn.classList.replace('day-btn-active', 'day-btn-inactive'));
                e.target.classList.replace('day-btn-inactive', 'day-btn-active');
                renderItinerary(e.target.dataset.day);
            }
        });

        document.getElementById('prep-accordion').addEventListener('click', (e) => {
            const button = e.target.closest('.accordion-btn');
            if(button) {
                const content = button.nextElementSibling;
                const icon = button.querySelector('span:last-child');
                const isOpening = !content.style.maxHeight || content.style.maxHeight === '0px';
                document.querySelectorAll('.accordion-content').forEach(el => el.style.maxHeight = '0px');
                document.querySelectorAll('.accordion-btn span:last-child').forEach(el => el.style.transform = 'rotate(0deg)');
                if (isOpening) {
                    content.style.maxHeight = content.scrollHeight + "px";
                    icon.style.transform = 'rotate(180deg)';
                }
            }
        });

        document.getElementById('budget-items').addEventListener('change', updateBudget);

        navTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const target = tab.dataset.tab;
                navTabs.forEach(t => t.classList.replace('tab-active', 'tab-inactive'));
                tab.classList.replace('tab-inactive', 'tab-active');
                tabContents.forEach(content => content.classList.add('hidden'));
                const activeContent = document.getElementById(`${target}-section`);
                activeContent.classList.remove('hidden');
                activeContent.classList.add('section-fade-in');
                setTimeout(() => activeContent.classList.remove('section-fade-in'), 500);

                if(target === 'budget') {
                    if (!budgetChart) {
                        createBudgetChart();
                    }
                    updateBudget();
                }
            });
        });

        function init() {
            renderDaySelector();
            renderDetailedItinerary();
            renderPrep();
            renderFoodTable();
            renderBudgetItems();

            const firstDayBtn = document.querySelector('.day-btn[data-day="1"]');
            if (firstDayBtn) {
                 firstDayBtn.classList.replace('day-btn-inactive', 'day-btn-active');
                 renderItinerary(1);
            }
        }

        init();
    });
    </script>
</body>
</html>
